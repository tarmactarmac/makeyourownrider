<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TDF 2025 Star Draft</title>
    <style>
        :root { --tdf-yellow: #ffcf40; --star-color: #ffcf40; --premium: #ffffff; }
        body { background: #000; color: white; font-family: 'Pretendard', sans-serif; display: flex; flex-direction: column; align-items: center; min-height: 100vh; margin: 0; padding: 15px; overflow-x: hidden; }
        
        .header h1 { font-size: 1.6rem; color: var(--tdf-yellow); margin: 20px 0; text-transform: uppercase; font-weight: 900; letter-spacing: -1px; text-shadow: 0 0 10px rgba(255, 207, 64, 0.5); }

        .total-rank-box { margin-bottom: 25px; padding: 15px 30px; border-radius: 20px; background: #1a1a1a; border: 2px solid #333; text-align: center; display: none; width: 100%; max-width: 500px; box-sizing: border-box; }
        .total-rank-value { font-size: 2rem; font-weight: 900; margin-bottom: 5px; color: var(--tdf-yellow); }
        .total-rank-desc { font-size: 0.95rem; color: #aaa; font-weight: 600; }

        .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; width: 100%; max-width: 800px; }
        .card { background: linear-gradient(145deg, #151515, #0a0a0a); border: 2px solid #222; border-radius: 18px; padding: 15px; text-align: center; position: relative; transition: all 0.3s; display: flex; flex-direction: column; justify-content: center; height: 150px; box-sizing: border-box; }
        .card.active { border-color: #444; }
        .card.s-win { border-color: var(--tdf-yellow); box-shadow: 0 0 30px rgba(255, 207, 64, 0.3); animation: pulse 1.5s infinite; }

        @keyframes pulse { 0% { box-shadow: 0 0 20px rgba(255, 207, 64, 0.2); } 50% { box-shadow: 0 0 40px rgba(255, 207, 64, 0.5); } 100% { box-shadow: 0 0 20px rgba(255, 207, 64, 0.2); } }

        .label { font-size: 0.7rem; color: #555; font-weight: 800; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 2px; }
        .brand-text { font-size: 0.75rem; color: #888; font-weight: 600; margin-bottom: 4px; display: block; }
        .value { font-size: 0.95rem; font-weight: 800; line-height: 1.3; color: #fff; min-height: 3.5em; display: flex; flex-direction: column; align-items: center; justify-content: center; }

        .star-display { color: var(--star-color); font-size: 0.8rem; margin-top: 5px; letter-spacing: 1px; }
        .rolling { opacity: 0.3; filter: blur(3px); }
        .blink-text { animation: flash 0.5s infinite alternate; color: var(--tdf-yellow); }
        @keyframes flash { from { opacity: 0.5; } to { opacity: 1; } }

        .btn-draw { margin-top: 40px; padding: 20px 80px; font-size: 1.5rem; font-weight: 900; color: #000; background: var(--tdf-yellow); border: none; border-radius: 100px; cursor: pointer; transition: 0.3s; }
        .btn-draw:disabled { background: #333; color: #666; cursor: not-allowed; }

        .data-viewer { margin-top: 50px; width: 100%; max-width: 1000px; padding: 0 10px; box-sizing: border-box; }
        .roster-toggle-btn { width: 100%; background: #111; border: 1px solid #333; color: #888; padding: 15px; border-radius: 12px; cursor: pointer; }
        .roster-content { max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out; background: #080808; }
        .data-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; padding: 20px; }
        .data-column h3 { font-size: 0.8rem; color: var(--tdf-yellow); border-bottom: 1px solid #333; padding-bottom: 10px; }
        .data-list { font-size: 0.75rem; color: #aaa; max-height: 300px; overflow-y: auto; }
        .data-item { display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px solid #111; }
        .stars-gold { color: var(--tdf-yellow); }

        @media (max-width: 600px) { .grid { grid-template-columns: 1fr; } .data-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="header"><h1>TDF 2025 PRO DRAFT</h1></div>
    
    <div id="total-rank" class="total-rank-box">
        <div class="total-rank-value" id="rank-val">★★★★★</div>
        <div id="rank-desc" class="total-rank-desc">최고의 라이더</div>
    </div>

    <div class="grid">
        <div class="card" id="card-r"><div class="label">Rider</div><div class="value" id="rider">---</div></div>
        <div class="card" id="card-f"><div class="label">Frame</div><div class="value" id="frame">---</div></div>
        <div class="card" id="card-w"><div class="label">Wheelset</div><div class="value" id="wheel">---</div></div>
        <div class="card" id="card-g"><div class="label">Groupset</div><div class="value" id="group">---</div></div>
    </div>

    <button class="btn-draw" onclick="run()">라이더 만들기</button>

    <div class="data-viewer">
        <button class="roster-toggle-btn" onclick="toggleRoster()">선수 및 장비 데이터베이스 보기</button>
        <div id="roster-content" class="roster-content">
            <div class="data-grid">
                <div class="data-column"><h3>RIDERS (TOP 20 TEAMS)</h3><div id="list-r" class="data-list"></div></div>
                <div class="data-column"><h3>EQUIPMENT (FRAMES/WHEELS)</h3><div id="list-e" class="data-list"></div></div>
            </div>
        </div>
    </div>

    <script>
        const getStars = (num) => "★".repeat(num) + "☆".repeat(5 - num);

        
        const data = {

                   r: [
            // 1. UAE Team Emirates
            {b:"UAE Team Emirates", n:"Tadej Pogačar", s:5},
            {b:"UAE Team Emirates", n:"Adam Yates", s:4},
            {b:"UAE Team Emirates", n:"João Almeida", s:4},
            {b:"UAE Team Emirates", n:"Juan Ayuso", s:4},
            {b:"UAE Team Emirates", n:"Isaac Del Toro", s:3},
        
            // 2. Visma-Lease a Bike
            {b:"Visma-Lease a Bike", n:"Jonas Vingegaard", s:5},
            {b:"Visma-Lease a Bike", n:"Wout van Aert", s:5},
            {b:"Visma-Lease a Bike", n:"Matteo Jorgenson", s:4},
            {b:"Visma-Lease a Bike", n:"Sepp Kuss", s:4},
            {b:"Visma-Lease a Bike", n:"Christophe Laporte", s:4},
        
            // 3. Soudal Quick-Step
            {b:"Soudal Quick-Step", n:"Remco Evenepoel", s:5},
            {b:"Soudal Quick-Step", n:"Mikel Landa", s:4},
            {b:"Soudal Quick-Step", n:"Tim Merlier", s:4},
            {b:"Soudal Quick-Step", n:"Julian Alaphilippe", s:3},
        
            // 4. Red Bull-BORA-hansgrohe
            {b:"Red Bull-BORA-hansgrohe", n:"Primož Roglič", s:5},
            {b:"Red Bull-BORA-hansgrohe", n:"Jai Hindley", s:4},
            {b:"Red Bull-BORA-hansgrohe", n:"Aleksandr Vlasov", s:4},
            {b:"Red Bull-BORA-hansgrohe", n:"Daniel Martínez", s:4},
        
            // 5. INEOS Grenadiers
            {b:"INEOS Grenadiers", n:"Carlos Rodriguez", s:4},
            {b:"INEOS Grenadiers", n:"Tom Pidcock", s:4},
            {b:"INEOS Grenadiers", n:"Egan Bernal", s:4},
            {b:"INEOS Grenadiers", n:"Geraint Thomas", s:3},
        
            // 6. Lidl-Trek
            {b:"Lidl-Trek", n:"Mads Pedersen", s:5},
            {b:"Lidl-Trek", n:"Mattias Skjelmose", s:4},
            {b:"Lidl-Trek", n:"Tao Geoghegan Hart", s:4},
            {b:"Lidl-Trek", n:"Jonathan Milan", s:4},
        
            // 7. Alpecin-Deceuninck
            {b:"Alpecin-Deceuninck", n:"Mathieu van der Poel", s:5},
            {b:"Alpecin-Deceuninck", n:"Jasper Philipsen", s:5},
            {b:"Alpecin-Deceuninck", n:"Kaden Groves", s:4},
        
            // 8. EF Education-EasyPost
            {b:"EF Education-EasyPost", n:"Richard Carapaz", s:4},
            {b:"EF Education-EasyPost", n:"Ben Healy", s:4},
            {b:"EF Education-EasyPost", n:"Neilson Powless", s:3},
            {b:"EF Education-EasyPost", n:"Rui Costa", s:3},
        
            // 9. Bahrain Victorious
            {b:"Bahrain Victorious", n:"Pello Bilbao", s:4},
            {b:"Bahrain Victorious", n:"Santiago Buitrago", s:4},
            {b:"Bahrain Victorious", n:"Matej Mohorič", s:4},
            {b:"Bahrain Victorious", n:"Damiano Caruso", s:3},
        
            // 10. Movistar Team
            {b:"Movistar Team", n:"Enric Mas", s:4},
            {b:"Movistar Team", n:"Nairo Quintana", s:3},
            {b:"Movistar Team", n:"Einer Rubio", s:3},
        
            // 11. Jayco AlUla
            {b:"Jayco AlUla", n:"Simon Yates", s:4},
            {b:"Jayco AlUla", n:"Michael Matthews", s:4},
            {b:"Jayco AlUla", n:"Dylan Groenewegen", s:4},
        
            // 12. Decathlon AG2R La Mondiale
            {b:"Decathlon AG2R", n:"Felix Gall", s:4},
            {b:"Decathlon AG2R", n:"Ben O'Connor", s:4},
            {b:"Decathlon AG2R", n:"Victor Lafay", s:3},
        
            // 13. Groupama-FDJ
            {b:"Groupama-FDJ", n:"David Gaudu", s:4},
            {b:"Groupama-FDJ", n:"Stefan Küng", s:4},
            {b:"Groupama-FDJ", n:"Romain Grégoire", s:3},
        
            // 14. Israel-Premier Tech
            {b:"Israel-Premier Tech", n:"Derek Gee", s:4},
            {b:"Israel-Premier Tech", n:"Michael Woods", s:3},
            {b:"Israel-Premier Tech", n:"Pascal Ackermann", s:3},
            {b:"Israel-Premier Tech", n:"Stephen Williams", s:3},
        
            // 15. Lotto Dstny (Pro Team 에이스들)
            {b:"Lotto Dstny", n:"Arnaud De Lie", s:4},
            {b:"Lotto Dstny", n:"Maxim Van Gils", s:4},
            {b:"Lotto Dstny", n:"Lennert Van Eetvelt", s:4}
        ],
            f: [
                // Specialized
                {b:"Specialized", n:"S-Works Tarmac SL8", r:"S"}, {b:"Specialized", n:"S-Works Aethos", r:"S"}, {b:"Specialized", n:"S-Works Roubaix SL8", r:"S"}, {b:"Specialized", n:"S-Works Shiv TT", r:"S"}, {b:"Specialized", n:"Tarmac SL8 Pro", r:"A"}, {b:"Specialized", n:"Aethos Pro", r:"A"}, {b:"Specialized", n:"Roubaix SL8 Expert", r:"A"}, {b:"Specialized", n:"Allez Sprint", r:"B"}, {b:"Specialized", n:"Allez E5", r:"C"},
                // Trek
                {b:"Trek", n:"Madone SLR 9 Gen 8", r:"S"}, {b:"Trek", n:"Emonda SLR 9", r:"S"}, {b:"Trek", n:"Domane SLR 9", r:"S"}, {b:"Trek", n:"Madone SL 7", r:"A"}, {b:"Trek", n:"Emonda SL 7", r:"A"}, {b:"Trek", n:"Domane SL 7", r:"A"}, {b:"Trek", n:"Emonda SL 5", r:"B"}, {b:"Trek", n:"Domane AL 2", r:"C"},
                // Canyon
                {b:"Canyon", n:"Aeroad CFR", r:"S"}, {b:"Canyon", n:"Ultimate CFR", r:"S"}, {b:"Canyon", n:"Endurace CFR", r:"S"}, {b:"Canyon", n:"Speedmax CFR", r:"S"}, {b:"Canyon", n:"Aeroad CF SLX", r:"A"}, {b:"Canyon", n:"Ultimate CF SLX", r:"A"}, {b:"Canyon", n:"Endurace CF SLX", r:"A"}, {b:"Canyon", n:"Aeroad CF SL", r:"B"}, {b:"Canyon", n:"Ultimate CF SL", r:"B"}, {b:"Canyon", n:"Endurace AL", r:"C"},
                // Cervelo
                {b:"Cervelo", n:"S5", r:"S"}, {b:"Cervelo", n:"R5", r:"S"}, {b:"Cervelo", n:"P5", r:"S"}, {b:"Cervelo", n:"Soloist", r:"A"},
                // Pinarello
                {b:"Pinarello", n:"Dogma F", r:"S"}, {b:"Pinarello", n:"Dogma X", r:"S"}, {b:"Pinarello", n:"F7", r:"A"}, {b:"Pinarello", n:"X7", r:"B"}, {b:"Pinarello", n:"Prince", r:"B"},
                // Colnago
                {b:"Colnago", n:"Y1Rs", r:"S"}, {b:"Colnago", n:"V5Rs", r:"S"}, {b:"Colnago", n:"V4Rs", r:"S"}, {b:"Colnago", n:"C68", r:"S"},
                // Cannondale
                {b:"Cannondale", n:"SuperSix EVO Lab71", r:"S"}, {b:"Cannondale", n:"SystemSix Hi-MOD", r:"S"}, {b:"Cannondale", n:"SuperSix EVO Hi-MOD", r:"A"}, {b:"Cannondale", n:"Synapse Carbon", r:"B"}, {b:"Cannondale", n:"CAAD13", r:"B"},
                // Giant
                {b:"Giant", n:"Propel Advanced SL 0", r:"S"}, {b:"Giant", n:"TCR Advanced SL 0", r:"S"}, {b:"Giant", n:"Defy Advanced SL", r:"S"}, {b:"Giant", n:"Propel Advanced Pro", r:"A"}, {b:"Giant", n:"TCR Advanced Pro", r:"A"}, {b:"Giant", n:"TCR Advanced", r:"B"}, {b:"Giant", n:"Contend AR", r:"C"},
                // BMC
                {b:"BMC", n:"Teammachine SLR01", r:"S"}, {b:"BMC", n:"Timemachine Road", r:"S"}, {b:"BMC", n:"Roadmachine 01", r:"A"}, {b:"BMC", n:"Teammachine SLR", r:"B"}, {b:"BMC", n:"Teammachine ALR", r:"C"},
                // Scott
                {b:"Scott", n:"Foil RC Ultimate", r:"S"}, {b:"Scott", n:"Addict RC Ultimate", r:"S"}, {b:"Scott", n:"Foil RC Pro", r:"A"}, {b:"Scott", n:"Addict 10", r:"B"}, {b:"Scott", n:"Speedster 10", r:"C"},
                // Factor
                {b:"Factor", n:"ONE", r:"S"}, {b:"Factor", n:"OSTRO VAM", r:"S"}, {b:"Factor", n:"O2 VAM", r:"S"}, {b:"Factor", n:"Hanzo", r:"S"}, {b:"Factor", n:"OSTRO Gravel", r:"A"}, {b:"Factor", n:"O2", r:"B"},
                // Wilier
                {b:"Wilier", n:"Filante SLR", r:"S"}, {b:"Wilier", n:"0 SLR", r:"S"}, {b:"Wilier", n:"Rave SLR", r:"A"}, {b:"Wilier", n:"GTR Team", r:"B"}, {b:"Wilier", n:"Montegrappa", r:"C"},
                // Bianchi
                {b:"Bianchi", n:"Oltre RC", r:"S"}, {b:"Bianchi", n:"Specialissima RC", r:"S"}, {b:"Bianchi", n:"Aria", r:"B"}, {b:"Bianchi", n:"Via Nirone 7", r:"C"},
                // Merida
                {b:"Merida", n:"Reacto Team", r:"S"}, {b:"Merida", n:"Scultura Team", r:"S"}, {b:"Merida", n:"Scultura 5000", r:"B"}, {b:"Merida", n:"Scultura 100", r:"C"},
                // Look, Argon18, Ridley, Orbea, Lapierre, Time
                {b:"Look", n:"795 Blade RS", r:"S"}, {b:"Argon18", n:"Nitrogen Disc", r:"S"}, {b:"Ridley", n:"Noah Fast", r:"S"}, {b:"Orbea", n:"Orca OMX", r:"S"}, {b:"Lapierre", n:"Xelius SL", r:"S"}, {b:"Time", n:"Alpe d'Huez 01", r:"S"},
                // Other Brands
                {b:"Winspace", n:"T1550 (Aero)", r:"S"}, {b:"Winspace", n:"SLC", r:"S"}, {b:"Winspace", n:"T1500", r:"A"}, {b:"Winspace", n:"G2", r:"B"},
                {b:"SEKA", n:"Exceed RDC", r:"S"}, {b:"SEKA", n:"Exceed", r:"A"}, {b:"SEKA", n:"Spear", r:"A"},
                {b:"Evolve", n:"Cima", r:"S"}
            ],
        
            g: [
                {b:"Shimano", n:"Dura-Ace Di2", r:"S"}, {b:"SRAM", n:"RED AXS", r:"S"}, {b:"Campagnolo", n:"Super Record Wireless", r:"S"},
                {b:"Shimano", n:"Ultegra Di2", r:"A"}, {b:"SRAM", n:"Force AXS", r:"A"}, {b:"Shimano", n:"105 Di2", r:"B"}, {b:"SRAM", n:"Rival AXS", r:"B"}, {b:"Shimano", n:"105", r:"C"}, {b:"SRAM", n:"Rival", r:"C"}
            ],
        
            w: [
                // --- S RANK ---
                {b:"Scope", n:"Artech 2", r:"S"}, {b:"Scope", n:"Artech 4", r:"S"}, {b:"Scope", n:"Artech 6", r:"S"},
                {b:"Roval", n:"Rapide CLX III", r:"S"}, {b:"Roval", n:"Alpinist CLX III", r:"S"},
                {b:"Zipp", n:"454 NSW", r:"S"}, {b:"Zipp", n:"353 NSW", r:"S"},
                {b:"Enve", n:"SES 2.3", r:"S"}, {b:"Enve", n:"SES 3.4", r:"S"}, {b:"Enve", n:"SES 4.5", r:"S"}, {b:"Enve", n:"SES 6.7", r:"S"}, {b:"Enve", n:"PRO 4.5", r:"S"},
                {b:"Lightweight", n:"Meilenstein Evo", r:"S"}, {b:"Lightweight", n:"Fernweg Evo", r:"S"}, {b:"Lightweight", n:"Obermayer Evo", r:"S"},
                {b:"Princeton", n:"Wake 6560 Strada", r:"S"}, {b:"Princeton", n:"Wake 7580", r:"S"}, {b:"Princeton", n:"Peak 4550", r:"S"},
                {b:"Cadex", n:"Max 40", r:"S"}, {b:"Cadex", n:"50 Ultra", r:"S"}, {b:"Cadex", n:"65 Disc", r:"S"},
                {b:"Shimano", n:"Dura-Ace C36", r:"S"}, {b:"Shimano", n:"Dura-Ace C50", r:"S"}, {b:"Shimano", n:"Dura-Ace C60", r:"S"},
                {b:"Campagnolo", n:"Bora Ultra WTO 33", r:"S"}, {b:"Campagnolo", n:"Bora Ultra WTO 45", r:"S"}, {b:"Campagnolo", n:"Bora Ultra WTO 60", r:"S"},
                {b:"Bontrager", n:"Aeolus RSL 37", r:"S"}, {b:"Bontrager", n:"Aeolus RSL 51", r:"S"}, {b:"Bontrager", n:"Aeolus RSL 62", r:"S"},
                {b:"Reserve", n:"40/44", r:"S"}, {b:"Reserve", n:"52/63", r:"S"}, {b:"Reserve", n:"34/37", r:"S"},
                {b:"Black Inc", n:"48|58", r:"S"}, {b:"Black Inc", n:"62", r:"S"},
        
                // --- A RANK ---
                {b:"Roval", n:"Rapide CLX II", r:"A"}, {b:"Roval", n:"Alpinist CLX II", r:"A"},
                {b:"Zipp", n:"404 Firecrest", r:"A"}, {b:"Zipp", n:"303 Firecrest", r:"A"}, {b:"Zipp", n:"808 Firecrest", r:"A"},
                {b:"Enve", n:"Foundation 45", r:"A"}, {b:"Enve", n:"Foundation 65", r:"A"},
                {b:"DT Swiss", n:"ARC 1400 DICUT 50", r:"A"}, {b:"DT Swiss", n:"ERC 1400 DICUT", r:"A"}, {b:"DT Swiss", n:"PRC 1400 Spline", r:"A"},
                {b:"Shimano", n:"Ultegra C36 R8170", r:"A"}, {b:"Shimano", n:"Ultegra C50 R8170", r:"A"}, {b:"Shimano", n:"Ultegra C60 R8170", r:"A"},
                {b:"Campagnolo", n:"Bora WTO 45", r:"A"}, {b:"Campagnolo", n:"Bora WTO 60", r:"A"},
                {b:"Bontrager", n:"Aeolus Pro 51", r:"A"}, {b:"Bontrager", n:"Aeolus Pro 37", r:"A"},
                {b:"Giant", n:"SLR 0 50 Disc", r:"A"}, {b:"Giant", n:"SLR 0 36 Disc", r:"A"},
                {b:"Vision", n:"Metron 45 SL Disc", r:"A"}, {b:"Vision", n:"Metron 60 SL Disc", r:"A"},
                {b:"Mavic", n:"Cosmic SLR 45 Disc", r:"A"}, {b:"Mavic", n:"Ksyrium SL Disc", r:"A"},
                {b:"FFWD", n:"RYOT 55", r:"A"}, {b:"FFWD", n:"RYOT 44", r:"A"},
                {b:"HED", n:"Vanquish RC4 Performance", r:"A"}, {b:"HED", n:"Vanquish RC6 Performance", r:"A"},
                {b:"Fulcrum", n:"Speed 42 Disc", r:"A"}, {b:"Fulcrum", n:"Speed 57 Disc", r:"A"},
                {b:"Vincents", n:"Berg", r:"A"}, {b:"HUNT", n:"50 Carbon Wide Aero", r:"A"},
        
                // --- B RANK ---
                {b:"Roval", n:"Rapide CL II", r:"B"}, {b:"Roval", n:"Alpinist CL II", r:"B"}, {b:"Roval", n:"C38 Disc", r:"B"},
                {b:"Zipp", n:"303 S Tubeless Disc", r:"B"},
                {b:"Shimano", n:"105 Carbon C46", r:"B"}, {b:"Shimano", n:"105 Carbon C32", r:"B"},
                {b:"Bontrager", n:"Aeolus Elite 50", r:"B"}, {b:"Bontrager", n:"Aeolus Elite 35", r:"B"},
                {b:"Giant", n:"SLR 1 50 Disc", r:"B"}, {b:"Giant", n:"SLR 1 42 Disc", r:"B"},
                {b:"Fulcrum", n:"Wind 42", r:"B"}, {b:"Fulcrum", n:"Wind 57", r:"B"},
                {b:"DT Swiss", n:"P1800 Spline 32", r:"B"}, {b:"DT Swiss", n:"ER1600 Spline", r:"B"},
                {b:"Mavic", n:"Cosmic SL 45 Disc", r:"B"},
                {b:"Vision", n:"Team 35 Disc", r:"B"}, {b:"Vision", n:"SC 55 Disc", r:"B"}, {b:"Vision", n:"SC 40 Disc", r:"B"},
                {b:"Campagnolo", n:"Scirocco Disc", r:"B"},
            ],

            s: ["S-Works Power Mirror", "S-Works Romin Mirror", "Fizik Vento Argo R1", "Fizik Antares Versus", "Selle Italia SLR Boost", "Selle Italia Flite Boost", "Prologo Scratch M5", "Prologo Dimension", "Bontrager Aeolus Pro", "Cadex Boost Carbon", "Giant Fleet SL", "PRO Stealth Performance", "Selle San Marco Shortfit", "Selle SMP Dynamic", "Fabric Scoop Pro", "Syncros Belcarra", "Ergon SR Pro", "Brooks Cambium C13"],
            t: ["Continental GP5000 S TR", "Continental GP5000 AS TR", "Vittoria Corsa PRO", "Vittoria Corsa Next", "Pirelli P ZERO Race TLR", "Pirelli P ZERO Race RS", "Schwalbe Pro One TLE", "Specialized Turbo Cotton", "Specialized S-Works Turbo", "Bontrager R3 Hard-Case", "Goodyear Eagle F1", "Michelin Power Cup", "Panaracer Agilest TLE", "Veloflex Corsa RACE", "Challenge Strada Bianca", "Pirelli P7 Sport"],
            p: ["Shimano Dura-Ace PD-R9100", "Shimano Ultegra PD-R8000", "Shimano 105 PD-R7000", "Look Keo Blade Carbon Ti", "Look Keo Classic 3", "Wahoo Speedplay Zero Nano", "Wahoo Speedplay Zero", "Time Xpro 15 Carbon", "Time Xpresso 7", "Garmin Rally RS200 (Power)", "Favero Assioma Duo (Power)", "Shimano PD-RS500"],
            size: ["25C", "28C", "30C"]
        };

        function startRolling(id, type) {
            return setInterval(() => {
                const item = data[type][Math.floor(Math.random() * data[type].length)];
                document.getElementById(id).innerHTML = `<span class="brand-text">${item.b}</span><span>${item.n}</span><span class="star-display">${getStars(item.s)}</span>`;
            }, 60);
        }

        async function finalize(cardId, valId, item) {
            const el = document.getElementById(valId);
            el.classList.remove('rolling');
            if (item.s === 5) {
                document.getElementById(cardId).classList.add('s-win');
                el.innerHTML = `<span class="blink-text">★★★★★</span><span class="blink-text">LEGENDARY</span>`;
                await new Promise(r => setTimeout(r, 600));
            }
            el.innerHTML = `<span class="brand-text">${item.b}</span><span style="font-weight:900">${item.n}</span><span class="star-display">${getStars(item.s)}</span>`;
        }

        async function run() {
            const btn = document.querySelector('.btn-draw');
            btn.disabled = true;
            document.querySelectorAll('.card').forEach(c => { c.classList.remove('s-win'); c.querySelector('.value').classList.add('rolling'); });
            document.getElementById('total-rank').style.display = 'none';

            const timers = { r: startRolling('rider', 'r'), f: startRolling('frame', 'f'), w: startRolling('wheel', 'w'), g: startRolling('group', 'g') };

            const res = { r: data.r[Math.floor(Math.random()*data.r.length)], f: data.f[Math.floor(Math.random()*data.f.length)], w: data.w[Math.floor(Math.random()*data.w.length)], g: data.g[Math.floor(Math.random()*data.g.length)] };

            await new Promise(r => setTimeout(r, 1500));
            Object.values(timers).forEach(clearInterval);

            await Promise.all([ finalize('card-r', 'rider', res.r), finalize('card-f', 'frame', res.f), finalize('card-w', 'wheel', res.w), finalize('card-g', 'group', res.g) ]);

            const avg = (res.r.s + res.f.s + res.w.s + res.g.s) / 4;
            const rankVal = document.getElementById('rank-val');
            rankVal.innerText = getStars(Math.round(avg));
            document.getElementById('rank-desc').innerText = avg >= 4.5 ? "월드 투어 우승 후보 스쿼드!" : "강력한 프로 팀의 탄생!";
            document.getElementById('total-rank').style.display = 'block';
            btn.disabled = false;
        }

        function toggleRoster() {
            const content = document.getElementById('roster-content');
            content.style.maxHeight = content.style.maxHeight ? null : content.scrollHeight + "px";
        }

        function init() {
            document.getElementById('list-r').innerHTML = data.r.sort((a,b)=>b.s-a.s).map(i => `<div class="data-item"><span>[${i.b}] ${i.n}</span><span class="stars-gold">${"★".repeat(i.s)}</span></div>`).join('');
            document.getElementById('list-e').innerHTML = data.f.concat(data.w).sort((a,b)=>b.s-a.s).map(i => `<div class="data-item"><span>[${i.b}] ${i.n}</span><span class="stars-gold">${"★".repeat(i.s)}</span></div>`).join('');
        }
        window.onload = init;
    </script>
</body>
</html>

